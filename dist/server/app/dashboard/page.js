(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4645:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(9521),t(7781),t(5866);var a=t(3191),r=t(8716),i=t(7922),n=t.n(i),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9521)),"/Users/sharathchandra/Documents/Make it_2025/sample/UniNest/UniNest/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,7781)),"/Users/sharathchandra/Documents/Make it_2025/sample/UniNest/UniNest/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/sharathchandra/Documents/Make it_2025/sample/UniNest/UniNest/app/dashboard/page.tsx"],u="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8613:(e,s,t)=>{Promise.resolve().then(t.bind(t,3791))},3791:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(326),r=t(7577),i=t(1817),n=t(3071),l=t(9798),d=t(2714),c=t(9730),o=t(1821),u=t(5442),m=t(9932);function h(){let{user:e}=(0,m.a)(),[s,t]=(0,r.useState)({totalListings:0,activeListings:0,totalViews:0,unreadMessages:0,monthlyRevenue:0}),[i,h]=(0,r.useState)(!0);(0,r.useCallback)(async()=>{if(e)try{let{data:s}=await u.OQ.from("listings").select("id, status, view_count, rent").eq("host_id",e.id),{data:a}=await u.OQ.from("messages").select("id").eq("receiver_id",e.id).is("read_at",null),r=s?.length||0,i=s?.filter(e=>"active"===e.status).length||0,n=s?.reduce((e,s)=>e+s.view_count,0)||0,l=a?.length||0,d=s?.filter(e=>"active"===e.status).reduce((e,s)=>e+s.rent,0)||0;t({totalListings:r,activeListings:i,totalViews:n,unreadMessages:l,monthlyRevenue:d})}catch(e){console.error("Error fetching stats:",e)}finally{h(!1)}},[e]);let x=[{title:"Total Listings",value:s.totalListings,icon:l.Z,description:`${s.activeListings} active`},{title:"Total Views",value:s.totalViews,icon:d.Z,description:"All time views"},{title:"Unread Messages",value:s.unreadMessages,icon:c.Z,description:"Pending responses"},{title:"Potential Revenue",value:`$${s.monthlyRevenue.toLocaleString()}`,icon:o.Z,description:"Monthly potential"}];return i?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>a.jsx(n.Zb,{className:"animate-pulse",children:a.jsx(n.aY,{className:"p-6",children:a.jsx("div",{className:"h-16 bg-muted rounded"})})},s))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((e,s)=>(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(n.ll,{className:"text-sm font-medium",children:e.title}),a.jsx(e.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:e.value}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},s))})}var x=t(772),g=t(567),f=t(7863);let p=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,f.cn)("w-full caption-bottom text-sm",e),...s})}));p.displayName="Table";let v=r.forwardRef(({className:e,...s},t)=>a.jsx("thead",{ref:t,className:(0,f.cn)("[&_tr]:border-b",e),...s}));v.displayName="TableHeader";let j=r.forwardRef(({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:(0,f.cn)("[&_tr:last-child]:border-0",e),...s}));j.displayName="TableBody",r.forwardRef(({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let y=r.forwardRef(({className:e,...s},t)=>a.jsx("tr",{ref:t,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));y.displayName="TableRow";let b=r.forwardRef(({className:e,...s},t)=>a.jsx("th",{ref:t,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));b.displayName="TableHead";let N=r.forwardRef(({className:e,...s},t)=>a.jsx("td",{ref:t,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));N.displayName="TableCell",r.forwardRef(({className:e,...s},t)=>a.jsx("caption",{ref:t,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";var w=t(97),_=t(5562),k=t(2881);let M=(0,k.Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),C=(0,k.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),q=(0,k.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Z=t(5999),A=t(434);function R(){let{user:e}=(0,m.a)(),[s,t]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0);(0,r.useCallback)(async()=>{if(e)try{let{data:s,error:a}=await u.OQ.from("listings").select("*").eq("host_id",e.id).order("created_at",{ascending:!1});if(a)throw a;t(s||[])}catch(e){console.error("Error fetching listings:",e),Z.Am.error("Failed to load listings")}finally{l(!1)}},[e]);let c=async(e,s)=>{try{let{error:a}=await u.OQ.from("listings").update({status:s}).eq("id",e);if(a)throw a;t(t=>t.map(t=>t.id===e?{...t,status:s}:t)),Z.Am.success(`Listing ${"active"===s?"activated":"deactivated"}`)}catch(e){Z.Am.error("Failed to update listing status")}},o=async e=>{if(confirm("Are you sure you want to delete this listing?"))try{let{error:s}=await u.OQ.from("listings").delete().eq("id",e);if(s)throw s;t(s=>s.filter(s=>s.id!==e)),Z.Am.success("Listing deleted")}catch(e){Z.Am.error("Failed to delete listing")}},h=e=>{switch(e){case"active":return a.jsx(g.C,{className:"bg-green-500",children:"Active"});case"inactive":return a.jsx(g.C,{variant:"secondary",children:"Inactive"});case"pending":return a.jsx(g.C,{variant:"outline",children:"Pending"});case"rented":return a.jsx(g.C,{className:"bg-blue-500",children:"Rented"});default:return a.jsx(g.C,{variant:"secondary",children:e})}};return i?(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Your Listings"})}),a.jsx(n.aY,{children:a.jsx("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"h-16 bg-muted rounded"},s))})})]}):(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Your Listings"})}),a.jsx(n.aY,{children:0===s.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't created any listings yet"}),a.jsx(x.z,{asChild:!0,children:a.jsx(A.default,{href:"/listings/new",children:"Create Your First Listing"})})]}):(0,a.jsxs)(p,{children:[a.jsx(v,{children:(0,a.jsxs)(y,{children:[a.jsx(b,{children:"Property"}),a.jsx(b,{children:"Location"}),a.jsx(b,{children:"Rent"}),a.jsx(b,{children:"Status"}),a.jsx(b,{children:"Views"}),a.jsx(b,{children:"Created"}),a.jsx(b,{className:"w-[50px]"})]})}),a.jsx(j,{children:s.map(e=>(0,a.jsxs)(y,{children:[a.jsx(N,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:e.photos_urls[0]||"https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg?auto=compress&cs=tinysrgb&w=100",alt:e.title,className:"w-12 h-12 rounded object-cover"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.bedrooms,"bd â€¢ ",e.bathrooms,"ba"]})]})]})}),a.jsx(N,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(_.Z,{className:"h-3 w-3"}),e.address.split(",")[0]]})}),(0,a.jsxs)(N,{className:"font-medium",children:["$",e.rent]}),a.jsx(N,{children:h(e.status)}),a.jsx(N,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(d.Z,{className:"h-3 w-3"}),e.view_count]})}),a.jsx(N,{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()}),a.jsx(N,{children:(0,a.jsxs)(w.h_,{children:[a.jsx(w.$F,{asChild:!0,children:a.jsx(x.z,{variant:"ghost",size:"sm",children:a.jsx(M,{className:"h-4 w-4"})})}),(0,a.jsxs)(w.AW,{align:"end",children:[a.jsx(w.Xi,{asChild:!0,children:(0,a.jsxs)(A.default,{href:`/listings/${e.id}`,children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"View"]})}),a.jsx(w.Xi,{asChild:!0,children:(0,a.jsxs)(A.default,{href:`/listings/${e.id}/edit`,children:[a.jsx(C,{className:"mr-2 h-4 w-4"}),"Edit"]})}),"active"===e.status?a.jsx(w.Xi,{onClick:()=>c(e.id,"inactive"),children:"Deactivate"}):a.jsx(w.Xi,{onClick:()=>c(e.id,"active"),children:"Activate"}),(0,a.jsxs)(w.Xi,{onClick:()=>o(e.id),className:"text-destructive",children:[a.jsx(q,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})})]})}var S=t(8758);let P=(0,k.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var V=t(8386),$=t(8421);function z(){let{threads:e,loading:s}=(0,V.R)();if(s)return(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Recent Messages"})}),a.jsx(n.aY,{children:a.jsx("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]},s))})})]});let t=e.slice(0,5);return(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between",children:[a.jsx(n.ll,{children:"Recent Messages"}),a.jsx(x.z,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(A.default,{href:"/messages",children:["View All",a.jsx(P,{className:"ml-2 h-4 w-4"})]})})]}),a.jsx(n.aY,{children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(c.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No messages yet"})]}):a.jsx("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)(S.Avatar,{className:"h-10 w-10",children:[a.jsx(S.AvatarImage,{src:e.other_user.photo_url||""}),a.jsx(S.AvatarFallback,{children:e.other_user.name.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium truncate",children:e.other_user.name}),e.unread_count>0&&a.jsx(g.C,{variant:"destructive",className:"text-xs",children:e.unread_count})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.last_message.content}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(0,$.Q)(new Date(e.last_message.created_at),{addSuffix:!0})})]}),a.jsx(x.z,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(A.default,{href:`/messages?listing=${e.listing_id}&host=${e.other_user.id}`,children:"Reply"})})]},`${e.listing_id}-${e.other_user.id}`))})})]})}var D=t(3427),O=t(3855);let T=(0,k.Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var U=t(8378),E=t(5047);function L(){let{user:e,profile:s,loading:t}=(0,m.a)();return((0,E.useRouter)(),t)?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(i.Header,{}),a.jsx("div",{className:"container py-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-6",children:[a.jsx("div",{className:"h-8 bg-muted rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"h-32 bg-muted rounded"},s))}),a.jsx("div",{className:"h-96 bg-muted rounded"})]})})]}):e&&s?.role==="host"?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(i.Header,{}),(0,a.jsxs)("div",{className:"container py-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Host Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your listings and connect with potential tenants"})]}),a.jsx(x.z,{asChild:!0,children:(0,a.jsxs)(A.default,{href:"/listings/new",children:[a.jsx(O.Z,{className:"mr-2 h-4 w-4"}),"Add New Listing"]})})]}),a.jsx(h,{}),(0,a.jsxs)(D.mQ,{defaultValue:"listings",className:"mt-8",children:[(0,a.jsxs)(D.dr,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(D.SP,{value:"listings",className:"flex items-center gap-2",children:[a.jsx(l.Z,{className:"h-4 w-4"}),"Listings"]}),(0,a.jsxs)(D.SP,{value:"messages",className:"flex items-center gap-2",children:[a.jsx(c.Z,{className:"h-4 w-4"}),"Messages"]}),(0,a.jsxs)(D.SP,{value:"analytics",className:"flex items-center gap-2",children:[a.jsx(T,{className:"h-4 w-4"}),"Analytics"]}),(0,a.jsxs)(D.SP,{value:"settings",className:"flex items-center gap-2",children:[a.jsx(U.Z,{className:"h-4 w-4"}),"Settings"]})]}),a.jsx(D.nU,{value:"listings",className:"mt-6",children:a.jsx(R,{})}),a.jsx(D.nU,{value:"messages",className:"mt-6",children:a.jsx(z,{})}),a.jsx(D.nU,{value:"analytics",className:"mt-6",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Analytics"}),a.jsx(n.SZ,{children:"View detailed analytics about your listings performance"})]}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(T,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Analytics dashboard coming soon"})]})})]})}),a.jsx(D.nU,{value:"settings",className:"mt-6",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Account Settings"}),a.jsx(n.SZ,{children:"Manage your host account preferences"})]}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(U.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Settings panel coming soon"})]})})]})})]})]})]}):null}},567:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});var a=t(326);t(7577);var r=t(8671),i=t(7863);let n=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return a.jsx("div",{className:(0,i.cn)(n({variant:s}),e),...t})}},3427:(e,s,t)=>{"use strict";t.d(s,{mQ:()=>Z,nU:()=>S,dr:()=>A,SP:()=>R});var a=t(326),r=t(7577),i=t(2561),n=t(3095),l=t(4421),d=t(9815),c=t(5226),o=t(7124),u=t(2067),m=t(8957),h="Tabs",[x,g]=(0,n.b)(h,[l.Pc]),f=(0,l.Pc)(),[p,v]=x(h),j=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:h="automatic",...x}=e,g=(0,o.gm)(d),[f,v]=(0,u.T)({prop:r,onChange:i,defaultProp:n});return(0,a.jsx)(p,{scope:t,baseId:(0,m.M)(),value:f,onValueChange:v,orientation:l,dir:g,activationMode:h,children:(0,a.jsx)(c.WV.div,{dir:g,"data-orientation":l,...x,ref:s})})});j.displayName=h;var y="TabsList",b=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...i}=e,n=v(y,t),d=f(t);return(0,a.jsx)(l.fC,{asChild:!0,...d,orientation:n.orientation,dir:n.dir,loop:r,children:(0,a.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});b.displayName=y;var N="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...d}=e,o=v(N,t),u=f(t),m=M(o.baseId,r),h=C(o.baseId,r),x=r===o.value;return(0,a.jsx)(l.ck,{asChild:!0,...u,focusable:!n,active:x,children:(0,a.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:m,...d,ref:s,onMouseDown:(0,i.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,i.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,i.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;x||n||!e||o.onValueChange(r)})})})});w.displayName=N;var _="TabsContent",k=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...o}=e,u=v(_,t),m=M(u.baseId,i),h=C(u.baseId,i),x=i===u.value,g=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(d.z,{present:n||x,children:({present:t})=>(0,a.jsx)(c.WV.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:h,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:t&&l})})});function M(e,s){return`${e}-trigger-${s}`}function C(e,s){return`${e}-content-${s}`}k.displayName=_;var q=t(7863);let Z=j,A=r.forwardRef(({className:e,...s},t)=>a.jsx(b,{ref:t,className:(0,q.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));A.displayName=b.displayName;let R=r.forwardRef(({className:e,...s},t)=>a.jsx(w,{ref:t,className:(0,q.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));R.displayName=w.displayName;let S=r.forwardRef(({className:e,...s},t)=>a.jsx(k,{ref:t,className:(0,q.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));S.displayName=k.displayName},8386:(e,s,t)=>{"use strict";t.d(s,{R:()=>n});var a=t(7577),r=t(5442),i=t(9932);function n(e){let{user:s}=(0,i.a)(),[t,n]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),[c,o]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),h=(0,a.useCallback)(async e=>{if(s)try{o(!0);let{data:t,error:a}=await r.OQ.from("messages").select(`
          *,
          sender:sender_id (
            name,
            photo_url
          )
        `).eq("listing_id",e).or(`sender_id.eq.${s.id},receiver_id.eq.${s.id}`).order("created_at",{ascending:!0});if(a)throw a;n(t)}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},[s]),x=(0,a.useCallback)(async()=>{if(s)try{o(!0);let{data:e,error:t}=await r.OQ.from("messages").select(`
          *,
          listings:listing_id (
            title,
            host_id
          ),
          sender:sender_id (
            id,
            name,
            photo_url
          ),
          receiver:receiver_id (
            id,
            name,
            photo_url
          )
        `).or(`sender_id.eq.${s.id},receiver_id.eq.${s.id}`).order("created_at",{ascending:!1});if(t)throw t;let a=new Map;e?.forEach(e=>{let t=e.sender_id===s.id?e.receiver:e.sender,r=`${e.listing_id}-${t.id}`;if(a.has(r)){let t=a.get(r);e.sender_id!==s.id&&!e.read_at&&t.unread_count++}else a.set(r,{listing_id:e.listing_id,other_user:t,last_message:{content:e.content,created_at:e.created_at,sender_id:e.sender_id},unread_count:e.sender_id===s.id||e.read_at?0:1})}),d(Array.from(a.values()))}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},[s]);return{messages:t,threads:l,loading:c,error:u,sendMessage:async(e,t,a)=>{if(!s)return{error:"Not authenticated"};try{let{data:i,error:l}=await r.OQ.from("messages").insert({listing_id:e,sender_id:s.id,receiver_id:t,content:a}).select(`
          *,
          sender:sender_id (
            name,
            photo_url
          )
        `).single();if(l)throw l;return e==e&&n(e=>[...e,i]),x(),{data:i,error:null}}catch(e){return{data:null,error:e instanceof Error?e.message:"An error occurred"}}},markAsRead:async(e,t)=>{if(s)try{await r.OQ.from("messages").update({read_at:new Date().toISOString()}).eq("listing_id",e).eq("sender_id",t).eq("receiver_id",s.id).is("read_at",null),n(a=>a.map(a=>a.listing_id===e&&a.sender_id===t&&a.receiver_id===s.id?{...a,read_at:new Date().toISOString()}:a)),x()}catch(e){console.error("Error marking messages as read:",e)}},refetchMessages:()=>e&&h(e),refetchThreads:x}}},1821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5562:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8378:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9521:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/sharathchandra/Documents/Make it_2025/sample/UniNest/UniNest/app/dashboard/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,152,997,301,434,869,297,421,313],()=>t(4645));module.exports=a})();