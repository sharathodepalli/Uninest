(()=>{var e={};e.id=654,e.ids=[654],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},9375:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>x,staticGenerationAsyncStorage:()=>d});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(9303),u=t(8716),i=t(670),a=t(7070),n=t(2438);async function p(e){try{let{email:r,password:t,name:s,role:o}=await e.json();if(!r||!t||!s||!o)return a.NextResponse.json({error:"Missing required fields"},{status:400});if(t.length<6)return a.NextResponse.json({error:"Password must be at least 6 characters long"},{status:400});let u=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!u)return console.error("Service role key not configured"),a.NextResponse.json({error:"Server configuration error"},{status:500});let i=(0,n.eI)("https://your-project-ref.supabase.co",u),{data:p,error:c}=await i.auth.admin.createUser({email:r,password:t,email_confirm:!0,user_metadata:{name:s,role:o}});if(c)return console.error("Admin create user error:",c),a.NextResponse.json({error:c.message||"Failed to create user"},{status:400});if(p.user){let{error:e}=await i.from("profiles").insert({id:p.user.id,email:r,name:s,role:o});e&&console.error("Profile creation error:",e)}return a.NextResponse.json({message:"User created successfully"},{status:200})}catch(e){return console.error("SignUp API error:",e),a.NextResponse.json({error:"An unexpected error occurred"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/Users/sharathchandra/Documents/Make it_2025/sample/UniNest/UniNest/app/api/auth/signup/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:x}=c,m="/api/auth/signup/route";function h(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:d})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972,438],()=>t(9375));module.exports=s})();